{
  "user_message": "<misra_rule>\nThe target MISRA C 2023 Rule 1.2 is: Language extensions should not be used.\nYou should report only when the code uses any language compiler extensions that are explicitly stated as an extension in compiler documentations.\n</misra_rule>\n<instruction>\nOther agents will judge whether the code follows the MISRA C 2023 guidelines.\nThey will investigate the code fragments you give.\nYour job is to find code fragments in the code that should be investigated to check whether the code follows the MISRA C rule.\n</instruction>\n<response format>\nProvide your answer with these fields.\n- suspicious_frags: The list of suspicious code fragments in the code.\nIt should contain only the code fragments exists in the code. If you do not find any suspicious code fragments, return an empty list for suspicious_frags\n- explanation: The explanation of why other code fragments should NOT be investigated.\nIt is very important to not miss any suspicious code fragments, so please give a sufficient explanation why other code fragments should not be investigated.\nDO NOT give any explanation for the selected suspicious code fragments.\n</response format>\n<target_code>\nHere is the code of OS_SocketAddrInit_Impl:\n```c\nint32 OS_SocketAddrInit_Impl(OS_SockAddr_t *Addr, OS_SocketDomain_t Domain)\n{\n    sa_family_t             sa_family;\n    socklen_t               addrlen;\n    OS_SockAddr_Accessor_t *Accessor;\n\n    memset(Addr, 0, sizeof(OS_SockAddr_t));\n    Accessor = (OS_SockAddr_Accessor_t *)&Addr->AddrData;\n\n    switch (Domain)\n    {\n        case OS_SocketDomain_INET:\n            sa_family = AF_INET;\n            addrlen   = sizeof(struct sockaddr_in);\n            break;\n#ifdef OS_NETWORK_SUPPORTS_IPV6\n        case OS_SocketDomain_INET6:\n            sa_family = AF_INET6;\n            addrlen   = sizeof(struct sockaddr_in6);\n            break;\n#endif\n        default:\n            sa_family = 0;\n            addrlen   = 0;\n            break;\n    }\n\n    if (addrlen == 0)\n    {\n        return OS_ERR_NOT_IMPLEMENTED;\n    }\n\n    Addr->ActualLength     = OSAL_SIZE_C(addrlen);\n    Accessor->sa.sa_family = sa_family;\n\n    return OS_SUCCESS;\n}\n```\n</target_code>\n<additional code>Here are the definitions of symbols that are related to the target function OS_SocketAddrInit_Impl:\ntypedef struct\n{\n    size_t            ActualLength; /**< @brief Length of the actual address data */\n    OS_SockAddrData_t AddrData;     /**< @brief Abstract Address data */\n} OS_SockAddr_t\n...\ntypedef union\n{\n    char               data[OS_SOCKADDR_MAX_LEN];\n    struct sockaddr    sa;\n    struct sockaddr_in sa_in;\n#ifdef OS_NETWORK_SUPPORTS_IPV6\n    struct sockaddr_in6 sa_in6;\n#endif\n} OS_SockAddr_Accessor_t\n...\ntypedef enum\n{\n    OS_SocketDomain_INVALID, /**< @brief Invalid */\n    OS_SocketDomain_INET,    /**< @brief IPv4 address family, most commonly used) */\n    OS_SocketDomain_INET6,   /**< @brief IPv6 address family, depends on OS/network stack support */\n    OS_SocketDomain_MAX      /**< @brief Maximum */\n} OS_SocketDomain_t\n...\n#define OSAL_SIZE_C(X) ((size_t)(X))\n...\n#define OS_SUCCESS (0)\n...\n#define OS_ERR_NOT_IMPLEMENTED (-28)\n...\n#define OS_NETWORK_SUPPORTS_IPV6 \n</additional code>\nPlease find suspicious code fragments in the code and report them. Other agents can not investigate other fragments that you do not report, so it is very important to find all suspicious fragments without missing any. Report the suspicious fragments AS MUCH AS POSSIBLE.",
  "suspicious_frags": [],
  "explanation": "No language/compiler extensions were found in the supplied code fragment. The code only uses standard C constructs (typedefs, enums, struct/union, casts, switch/case, preprocessor conditionals). Specifically:\n\n- There are no compiler-extension tokens such as identifiers beginning with double underscores or with a single leading underscore followed by an uppercase letter (e.g. __attribute__, __asm__, __builtin_*, __extension__, typeof, statement-expressions, asm, inline-assembly, or other vendor-specific keywords).\n- The POSIX types (sa_family_t, socklen_t) and socket structs (struct sockaddr, struct sockaddr_in, struct sockaddr_in6) originate from system headers (POSIX/APIs), not compiler language extensions; their use is not a compiler-specific language extension.\n- The conditional compilation (#ifdef OS_NETWORK_SUPPORTS_IPV6) and empty feature macro (#define OS_NETWORK_SUPPORTS_IPV6) are standard preprocessor usage, not language extensions.\n- Pointer casting (Accessor = (OS_SockAddr_Accessor_t *)&Addr->AddrData) and assignments are standard C; although aliasing/UB concerns may exist, these are not compiler language extensions per se.\n\nBecause none of the constructs in the code correspond to documented compiler language extensions, there are no fragments to report for MISRA C 2023 Rule 1.2 (language extensions should not be used). If you want, I can instead flag potential portability/strict-aliasing or POSIX-dependency concerns (which are not Rule 1.2 language-extension issues)."
}