{
  "user_message": "An agent A claimed that the following answer_unique_dyn_response code violates the MISRA C 2023 rule 8.13.\n<misra_rule>\nMISRA C 2023 Rule 8.13 is A pointer should point to a const-qualified type whenever possible.\n\n</misra_rule>\n<target_code>\nHere is the original code of answer_unique_dyn_response.\n```c\nstatic enum MHD_Result\nanswer_unique_dyn_response (void *cls,\n                            struct MHD_Connection *connection,\n                            const char *url,\n                            const char *method,\n                            const char *version,\n                            const char *upload_data,\n                            size_t *upload_data_size,\n                            void **req_cls)\n{\n  static int marker = 0;\n  struct MHD_Response *r;\n  enum MHD_Result ret;\n  (void) cls;  /* Unused */\n  (void) url; (void) version; /* Unused */\n  (void) upload_data; (void) upload_data_size; /* Unused */\n\n  if (NULL == *req_cls)\n  {\n    /* The fist call */\n    *req_cls = (void *) &marker;\n    /* Do not send reply yet. No error. */\n    return MHD_YES;\n  }\n  if ((0 != strcmp (method, MHD_HTTP_METHOD_GET)) &&\n      (0 != strcmp (method, MHD_HTTP_METHOD_HEAD)))\n    return MHD_NO; /* Unsupported method, close connection */\n\n#if MHD_VERSION >= 0x00097701\n  r = MHD_create_response_from_buffer_static (body_dyn_size,\n                                              body_dyn);\n#else  /* MHD_VERSION < 0x00097701 */\n  r = MHD_create_response_from_buffer (body_dyn_size,\n                                       (void *) body_dyn,\n                                       MHD_RESPMEM_PERSISTENT);\n#endif /* MHD_VERSION < 0x00097701 */\n  ret = MHD_queue_response (connection, MHD_HTTP_OK, r);\n  MHD_destroy_response (r);\n  return ret;\n}\n```\n</target_code>\n<response format>\nProvide your answer with these fields.\n- explanation: your evaluation of the scenario provided by the agent A.\n- is_report_correct: whether the report is correct or not (true/false). True means there is a violation.\n</response format>\n<scenario>\nThe agent A provided the following violation scenario:\nThe parameters 'cls' and 'connection' are not const-qualified even though this function does not modify them (cls is explicitly unused and connection is only passed to MHD_queue_response). Per Rule 8.13 they should be declared as 'const void *cls' and/or 'const struct MHD_Connection *connection' when possible. Note: if this function must match an external library callback prototype that requires non-const types, then changing them is not possible and no violation would be reported; otherwise this is a Rule 8.13 violation.\n</scenario>\n\n<instruction>\nJudge whether the report is correct or not.\n</instruction>\n",
  "is_report_correct": false,
  "explanation": "MISRA C 2023 Rule 8.13 does recommend that pointers point to const-qualified types when possible. However, this function is an implementation of a libmicrohttpd callback and therefore must match the library's prototype, which declares those parameters as non-const (e.g. void *cls and struct MHD_Connection *connection). Because the signature is prescribed by the external API, you cannot change the parameter types to const without breaking the required prototype. Also, the code does not attempt to modify the pointed-to objects, and the unused parameters are explicitly cast away with (void). Therefore the reported violation is not applicable in this context. If, hypothetically, the function were not constrained by an external callback prototype, making pointers const would be appropriate, but that is not the case here."
}