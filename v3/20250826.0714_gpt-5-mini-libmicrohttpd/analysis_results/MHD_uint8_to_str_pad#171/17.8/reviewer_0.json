{
  "user_message": "An agent A claimed that the following MHD_uint8_to_str_pad code violates the MISRA C 2023 rule 17.8.\n<misra_rule>\nMISRA C 2023 Rule 17.8 is A function parameter should not be modified.\nNote that the object referred to by a pointer parameter may be modified, but the pointer itself shall not be modified.\n</misra_rule>\n<target_code>\nHere is the original code of MHD_uint8_to_str_pad.\n```c\nsize_t\nMHD_uint8_to_str_pad (uint8_t val,\n                      uint8_t min_digits,\n                      char *buf,\n                      size_t buf_size)\n{\n  size_t pos; /**< the position of the current printed digit */\n  int digit;\n  mhd_assert (3 >= min_digits);\n  if (0 == buf_size)\n    return 0;\n\n  pos = 0;\n  digit = val / 100;\n  if (0 == digit)\n  {\n    if (3 <= min_digits)\n      buf[pos++] = '0';\n  }\n  else\n  {\n    buf[pos++] = (char) ('0' + (char) digit);\n    val %= 100;\n    min_digits = 2;\n  }\n\n  if (buf_size <= pos)\n    return 0;\n  digit = val / 10;\n  if (0 == digit)\n  {\n    if (2 <= min_digits)\n      buf[pos++] = '0';\n  }\n  else\n  {\n    buf[pos++] = (char) ('0' + (char) digit);\n    val %= 10;\n  }\n\n  if (buf_size <= pos)\n    return 0;\n  buf[pos++] = (char) ('0' + (char) val);\n  return pos;\n}\n```\n</target_code>\n<response format>\nProvide your answer with these fields.\n- explanation: your evaluation of the scenario provided by the agent A.\n- is_report_correct: whether the report is correct or not (true/false). True means there is a violation.\n</response format>\n<scenario>\nThe agent A provided the following violation scenario:\nThe statement 'min_digits = 2;' assigns to the parameter min_digits (a non-pointer function parameter) inside MHD_uint8_to_str_pad. This modifies a function parameter and therefore violates MISRA C 2023 Rule 17.8. (Use a local copy, e.g. 'uint8_t min = min_digits;', and modify 'min' instead.)\n</scenario>\n\n<instruction>\nJudge whether the report is correct or not.\n</instruction>\n",
  "is_report_correct": true,
  "explanation": "The report is correct. MISRA C 2023 Rule 17.8 states that a function parameter shall not be modified. In the function MHD_uint8_to_str_pad the statement\n\n  min_digits = 2;\n\nassigns to the parameter min_digits (a non-pointer parameter), which constitutes modifying a function parameter and thus violates Rule 17.8. The rule\u2019s note about pointer parameters is irrelevant here because min_digits is a value parameter, not a pointer.\n\nFixes include making a local copy and modifying that instead, for example:\n\n  uint8_t min = min_digits;\n  ...\n  min = 2;\n\nor declaring the parameter as const (e.g. const uint8_t min_digits) and using a separate modifiable local variable. Either approach prevents modifying the parameter itself and resolves the violation."
}