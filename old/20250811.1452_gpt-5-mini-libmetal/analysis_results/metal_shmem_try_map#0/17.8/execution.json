{
  "result": "compile_failed",
  "message": "-- Build type:  \n-- Host:    Linux/x86_64\n-- Target:  Linux/x86_64\n-- Machine: Generic\n-- Vendor: none\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:71:8: error: redefinition of 'struct metal_page_size'\n   71 | struct metal_page_size {\n      |        ^~~~~~~~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:85,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/io.h:22,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/system/linux/sys.h:55:8: note: originally defined here\n   55 | struct metal_page_size {\n      |        ^~~~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:76:8: error: redefinition of 'struct metal_io_region'\n   76 | struct metal_io_region {\n      |        ^~~~~~~~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/io.h:73:8: note: originally defined here\n   73 | struct metal_io_region {\n      |        ^~~~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:86:13: error: conflicting types for 'metal_unmap'; have 'void(void *, size_t)' {aka 'void(void *, long unsigned int)'}\n   86 | extern void metal_unmap(void *mem, size_t size);\n      |             ^~~~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:85,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/io.h:22,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/system/linux/sys.h:105:5: note: previous declaration of 'metal_unmap' with type 'int(void *, size_t)' {aka 'int(void *, long unsigned int)'}\n  105 | int metal_unmap(void *mem, size_t size);\n      |     ^~~~~~~~~~~\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:87:13: error: conflicting types for 'metal_io_init'; have 'void(struct metal_io_region *, void *, metal_phys_addr_t *, size_t,  long unsigned int,  unsigned int,  const struct metal_io_ops *)' {aka 'void(struct metal_io_region *, void *, long unsigned int *, long unsigned int,  long unsigned int,  unsigned int,  const struct metal_io_ops *)'}\n   87 | extern void metal_io_init(struct metal_io_region *io, void *mem, metal_phys_addr_t *phys,\n      |             ^~~~~~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/io.h:98:1: note: previous declaration of 'metal_io_init' with type 'void(struct metal_io_region *, void *, const metal_phys_addr_t *, size_t,  unsigned int,  unsigned int,  const struct metal_io_ops *)' {aka 'void(struct metal_io_region *, void *, const long unsigned int *, long unsigned int,  unsigned int,  unsigned int,  const struct metal_io_ops *)'}\n   98 | metal_io_init(struct metal_io_region *io, void *virt,\n      | ^~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:91:35: error: conflicting types for '_metal'; have 'struct <anonymous>'\n   91 | extern struct { int pagemap_fd; } _metal;\n      |                                   ^~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/io.h:22,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:96:27: note: previous declaration of '_metal' with type 'struct metal_state'\n   96 | extern struct metal_state _metal;\n      |                           ^~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/io.h:22,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:36:35: error: expected identifier or '(' before 'unsigned'\n   36 | #define METAL_BAD_OFFSET        ((unsigned long)-1)\n      |                                   ^~~~~~~~\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:92:32: note: in expansion of macro 'METAL_BAD_OFFSET'\n   92 | static const metal_phys_addr_t METAL_BAD_OFFSET = (metal_phys_addr_t)-1;\n      |                                ^~~~~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:36:49: error: expected ')' before '-' token\n   36 | #define METAL_BAD_OFFSET        ((unsigned long)-1)\n      |                                                 ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:92:32: note: in expansion of macro 'METAL_BAD_OFFSET'\n   92 | static const metal_phys_addr_t METAL_BAD_OFFSET = (metal_phys_addr_t)-1;\n      |                                ^~~~~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:180:5: error: conflicting types for 'metal_shmem_open'; have 'int(const char *, size_t,  struct metal_io_region **)' {aka 'int(const char *, long unsigned int,  struct metal_io_region **)'}\n  180 | int metal_shmem_open(const char *name, size_t size,\n      |     ^~~~~~~~~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:44:5: note: previous declaration of 'metal_shmem_open' with type 'int(const char *, size_t,  struct metal_io_region **)' {aka 'int(const char *, long unsigned int,  struct metal_io_region **)'}\n   44 | int metal_shmem_open(const char *name, size_t size,\n      |     ^~~~~~~~~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:18,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/io.h:22,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c: In function 'metal_shmem_open':\n/tmp/tmphgxvwx4i/build/lib/include/metal/log.h:99:19: error: 'struct <anonymous>' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                   ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:192:17: note: in expansion of macro 'metal_log'\n  192 |                 metal_log(METAL_LOG_ERROR, \"Failed to open shmem file :%s\\n\", name);\n      |                 ^~~~~~~~~\n/tmp/tmphgxvwx4i/build/lib/include/metal/log.h:99:57: error: 'struct <anonymous>' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                                                         ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:192:17: note: in expansion of macro 'metal_log'\n  192 |                 metal_log(METAL_LOG_ERROR, \"Failed to open shmem file :%s\\n\", name);\n      |                 ^~~~~~~~~\n/tmp/tmphgxvwx4i/build/lib/include/metal/log.h:100:23: error: 'struct <anonymous>' has no member named 'common'\n  100 |                 _metal.common.log_handler(level, metal_fmt(fmt), ## __VA_ARGS__);  \\\n      |                       ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:192:17: note: in expansion of macro 'metal_log'\n  192 |                 metal_log(METAL_LOG_ERROR, \"Failed to open shmem file :%s\\n\", name);\n      |                 ^~~~~~~~~\nIn file included from /tmp/tmphgxvwx4i/build/lib/include/metal/sys.h:85,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/io.h:22,\n                 from /tmp/tmphgxvwx4i/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:23:\n/tmp/tmphgxvwx4i/build/lib/include/metal/system/linux/sys.h:126:28: error: 'struct <anonymous>' has no member named 'page_sizes'\n  126 |         for ((ps) = &_metal.page_sizes[_metal.num_page_sizes - 1];      \\\n      |                            ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:198:9: note: in expansion of macro 'metal_for_each_page_size_down'\n  198 |         metal_for_each_page_size_down(ps) {\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/build/lib/include/metal/system/linux/sys.h:126:46: error: 'struct <anonymous>' has no member named 'num_page_sizes'\n  126 |         for ((ps) = &_metal.page_sizes[_metal.num_page_sizes - 1];      \\\n      |                                              ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:198:9: note: in expansion of macro 'metal_for_each_page_size_down'\n  198 |         metal_for_each_page_size_down(ps) {\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmphgxvwx4i/build/lib/include/metal/system/linux/sys.h:127:29: error: 'struct <anonymous>' has no member named 'page_sizes'\n  127 |              (ps) >= &_metal.page_sizes[0];                             \\\n      |                             ^\n/tmp/tmphgxvwx4i/src/lib/system/linux/shmem.c:198:9: note: in expansion of macro 'metal_for_each_page_size_down'\n  198 |         metal_for_each_page_size_down(ps) {\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ngmake[2]: *** [lib/CMakeFiles/metal-shared.dir/build.make:258: lib/CMakeFiles/metal-shared.dir/system/linux/shmem.c.o] Error 1\ngmake[1]: *** [CMakeFiles/Makefile2:291: lib/CMakeFiles/metal-shared.dir/all] Error 2\ngmake: *** [Makefile:146: all] Error 2"
}