{
  "user_message": "An agent A claimed that the following MHD_set_thread_name_ code violates the MISRA C 2023 rule 2.1.\n<misra_rule>\nMISRA C 2023 Rule 2.1 is A project shall not contain unreachable code.\n\n</misra_rule>\n<target_code>\nHere is the original code of MHD_set_thread_name_.\n```c\nstatic int\nMHD_set_thread_name_ (const MHD_thread_ID_native_ thread_id,\n                      const char *thread_name)\n{\n  if (NULL == thread_name)\n    return 0;\n\n#if defined(HAVE_PTHREAD_SETNAME_NP_GNU)\n  return ! pthread_setname_np (thread_id, thread_name);\n#elif defined(HAVE_PTHREAD_SET_NAME_NP_FREEBSD)\n  /* FreeBSD and OpenBSD use different function name and void return type */\n  pthread_set_name_np (thread_id, thread_name);\n  return ! 0;\n#elif defined(HAVE_PTHREAD_SETNAME_NP_NETBSD)\n  /* NetBSD use 3 arguments: second argument is string in printf-like format,\n   *                         third argument is a single argument for printf();\n   * OSF1 use 3 arguments too, but last one always must be zero (NULL).\n   * MHD doesn't use '%' in thread names, so both form are used in same way.\n   */\n  return ! pthread_setname_np (thread_id, thread_name, 0);\n#endif /* HAVE_PTHREAD_SETNAME_NP_NETBSD */\n}\n```\n</target_code>\n<response format>\nProvide your answer with these fields.\n- explanation: your evaluation of the scenario provided by the agent A.\n- is_report_correct: whether the report is correct or not (true/false). True means there is a violation.\n</response format>\n<scenario>\nThe agent A provided the following violation scenario:\nThe NETBSD #elif branch is never compiled in the current project configuration: HAVE_PTHREAD_SETNAME_NP_GNU is defined (see provided definition), so the #if branch for GNU is always selected and the #elif (HAVE_PTHREAD_SETNAME_NP_NETBSD) code is excluded from the translation unit. That excluded fragment therefore cannot be executed in this project and constitutes unreachable code.\n</scenario>\n<additional code>Here are the definitions of symbols that are close to the target function MHD_set_thread_name_:\n#define HAVE_PTHREAD_SETNAME_NP_GNU 1\n</additional code>\n\n<instruction>\nJudge whether the report is correct or not.\n</instruction>\n",
  "is_report_correct": false,
  "explanation": "The report is not correct. The NetBSD #elif branch is excluded by the preprocessor in the current build (because HAVE_PTHREAD_SETNAME_NP_GNU is defined) and therefore does not become part of the compiled translation unit at all. MISRA Rule 2.1 concerns unreachable code that is present in the compiled program but cannot be executed at runtime (e.g. statements after a return that will be compiled yet never reached). Code removed by conditional compilation is not compiled into the translation unit and so is not \u2018\u2018unreachable code\u2019\u2019 in the sense of Rule 2.1 for that build configuration. (If a branch were compiled but provably never executed, that would be a Rule 2.1 issue; preprocessor-excluded branches are a different matter.)"
}