{
  "user_message": "<misra_rule>\nMISRA C 2023 Rule 2.2 is: A project shall not contain dead code.\nAny operation that is executed but whose removal would not affect program behaviour constitutes dead code. Notes:\n1. The behaviour of an embedded sytem is often determined not just by the nature of its actions, but also by the time at which they occur.\n2. unreachable code is not dead code, as it cannot be executed.\n3.Initialization is not the same as an assignment operation and is therfore not a candidate for dead code.\n</misra_rule>\n<response format>\nProvide your answer with these fields.\n- is_rule_violated: whether the rule is violated or not (true/false),\n- scenario: a specific violation scenario.\n</response format>\n<target_code>\nHere is the code of get_param_value:\n```c\nstatic enum PerfRepl_param_result\nget_param_value (const char *param_name, const char *param_tail,\n                 const char *next_param, unsigned int *param_value)\n{\n  const char *value_str;\n  size_t digits;\n  if (0 != param_tail[0])\n  {\n    if ('=' != param_tail[0])\n      value_str = param_tail;\n    else\n      value_str = param_tail + 1;\n  }\n  else\n    value_str = next_param;\n\n  if (NULL != value_str)\n    digits = mhd_tool_str_to_uint (value_str, param_value);\n  else\n    digits = 0;\n\n  if ((0 == digits) || (0 != value_str[digits]))\n  {\n    fprintf (stderr, \"Parameter '%s' is not followed by valid number.\\n\",\n             param_name);\n    return PERF_RPL_PARAM_ERROR;\n  }\n\n  if (0 != param_tail[0])\n    return PERF_RPL_PARAM_FULL_STR;\n\n  return PERF_RPL_PARAM_STR_PLUS_NEXT;\n}\n```\n</target_code>\n<additional code>Here are the definitions of symbols that are close to the target function get_param_value:\nenum PerfRepl_param_result\n{\n  PERF_RPL_PARAM_ERROR,        /**< Error processing parameter */\n  PERF_RPL_PARAM_ONE_CHAR,     /**< Processed exactly one character */\n  PERF_RPL_PARAM_FULL_STR,     /**< Processed current parameter completely */\n  PERF_RPL_PARAM_STR_PLUS_NEXT /**< Current parameter completely and next parameter processed */\n}\n...\nstatic enum PerfRepl_param_result\nprocess_param__threads (const char *param_name, const char *param_tail,\n                        const char *next_param)\n{\n  unsigned int param_value;\n  enum PerfRepl_param_result value_res;\n\n  if (tool_params.all_cpus)\n  {\n    fprintf (stderr, \"Parameter '%s' cannot be used together \"\n             \"with '-A' or '--all-cpus'.\\n\", param_name);\n    return PERF_RPL_PARAM_ERROR;\n  }\n  if (tool_params.thread_per_conn)\n  {\n    fprintf (stderr, \"Parameter '%s' cannot be used together \"\n             \"with '-P' or '--thread-per-conn'.\\n\", param_name);\n    return PERF_RPL_PARAM_ERROR;\n  }\n  value_res = get_param_value (param_name, param_tail, next_param,\n                               &param_value);\n  if (PERF_RPL_PARAM_ERROR == value_res)\n    return value_res;\n\n  if (0 == param_value)\n  {\n    fprintf (stderr, \"'0' is not valid value for parameter '%s'.\\n\",\n             param_name);\n    return PERF_RPL_PARAM_ERROR;\n  }\n  tool_params.threads = param_value;\n  return value_res;\n}\n...\nstatic enum PerfRepl_param_result\nprocess_param__connections (const char *param_name, const char *param_tail,\n                            const char *next_param)\n{\n  unsigned int param_value;\n  enum PerfRepl_param_result value_res;\n\n  value_res = get_param_value (param_name, param_tail, next_param,\n                               &param_value);\n  if (PERF_RPL_PARAM_ERROR == value_res)\n    return value_res;\n\n  if (0 == param_value)\n  {\n    fprintf (stderr, \"'0' is not valid value for parameter '%s'.\\n\",\n             param_name);\n    return PERF_RPL_PARAM_ERROR;\n  }\n  tool_params.connections = param_value;\n  return value_res;\n}\n...\nstatic enum PerfRepl_param_result\nprocess_param__timeout (const char *param_name, const char *param_tail,\n                        const char *next_param)\n{\n  unsigned int param_value;\n  enum PerfRepl_param_result value_res;\n\n  value_res = get_param_value (param_name, param_tail, next_param,\n                               &param_value);\n  if (PERF_RPL_PARAM_ERROR == value_res)\n    return value_res;\n\n  tool_params.timeout = param_value;\n  return value_res;\n}\n...\nstatic enum PerfRepl_param_result\nprocess_short_param (const char *param, const char *next_param)\n{\n  const char param_chr = param[0];\n  if ('A' == param_chr)\n    return process_param__all_cpus (\"-A\");\n  else if ('t' == param_chr)\n    return process_param__threads (\"-t\", param + 1, next_param);\n  else if ('P' == param_chr)\n    return process_param__thread_per_conn (\"-P\");\n  else if ('e' == param_chr)\n    return process_param__epoll (\"-e\");\n  else if ('p' == param_chr)\n    return process_param__poll (\"-p\");\n  else if ('s' == param_chr)\n    return process_param__select (\"-s\");\n  else if ('E' == param_chr)\n    return process_param__empty (\"-E\");\n  else if ('T' == param_chr)\n    return process_param__tiny (\"-T\");\n  else if ('M' == param_chr)\n    return process_param__medium (\"-M\");\n  else if ('L' == param_chr)\n    return process_param__large (\"-L\");\n  else if ('S' == param_chr)\n    return process_param__shared (\"-S\");\n  else if ('I' == param_chr)\n    return process_param__single (\"-I\");\n  else if ('U' == param_chr)\n    return process_param__unique (\"-U\");\n  else if ('c' == param_chr)\n    return process_param__connections (\"-c\", param + 1, next_param);\n  else if ('O' == param_chr)\n    return process_param__timeout (\"-O\", param + 1, next_param);\n  else if ('V' == param_chr)\n    return process_param__version (\"-V\");\n\n  fprintf (stderr, \"Unrecognised parameter: -%c.\\n\", param_chr);\n  return PERF_RPL_PARAM_ERROR;\n}\n...\nstatic enum PerfRepl_param_result\nprocess_long_param (const char *param, const char *next_param)\n{\n  const size_t param_len = strlen (param);\n\n  if ((MHD_STATICSTR_LEN_ (\"all-cpus\") == param_len) &&\n      (0 == memcmp (param, \"all-cpus\", MHD_STATICSTR_LEN_ (\"all-cpus\"))))\n    return process_param__all_cpus (\"--all-cpus\");\n  else if ((MHD_STATICSTR_LEN_ (\"threads\") <= param_len) &&\n           (0 == memcmp (param, \"threads\", MHD_STATICSTR_LEN_ (\"threads\"))))\n    return process_param__threads (\"--threads\",\n                                   param + MHD_STATICSTR_LEN_ (\"threads\"),\n                                   next_param);\n  else if ((MHD_STATICSTR_LEN_ (\"thread-per-conn\") == param_len) &&\n           (0 == memcmp (param, \"thread-per-conn\",\n                         MHD_STATICSTR_LEN_ (\"thread-per-conn\"))))\n    return process_param__thread_per_conn (\"--thread-per-conn\");\n  else if ((MHD_STATICSTR_LEN_ (\"epoll\") == param_len) &&\n           (0 == memcmp (param, \"epoll\", MHD_STATICSTR_LEN_ (\"epoll\"))))\n    return process_param__epoll (\"--epoll\");\n  else if ((MHD_STATICSTR_LEN_ (\"poll\") == param_len) &&\n           (0 == memcmp (param, \"poll\", MHD_STATICSTR_LEN_ (\"poll\"))))\n    return process_param__poll (\"--poll\");\n  else if ((MHD_STATICSTR_LEN_ (\"select\") == param_len) &&\n           (0 == memcmp (param, \"select\", MHD_STATICSTR_LEN_ (\"select\"))))\n    return process_param__select (\"--select\");\n  else if ((MHD_STATICSTR_LEN_ (\"empty\") == param_len) &&\n           (0 == memcmp (param, \"empty\", MHD_STATICSTR_LEN_ (\"empty\"))))\n    return process_param__empty (\"--empty\");\n  else if ((MHD_STATICSTR_LEN_ (\"tiny\") == param_len) &&\n           (0 == memcmp (param, \"tiny\", MHD_STATICSTR_LEN_ (\"tiny\"))))\n    return process_param__tiny (\"--tiny\");\n  else if ((MHD_STATICSTR_LEN_ (\"medium\") == param_len) &&\n           (0 == memcmp (param, \"medium\", MHD_STATICSTR_LEN_ (\"medium\"))))\n    return process_param__medium (\"--medium\");\n  else if ((MHD_STATICSTR_LEN_ (\"large\") == param_len) &&\n           (0 == memcmp (param, \"large\", MHD_STATICSTR_LEN_ (\"large\"))))\n    return process_param__large (\"--large\");\n  else if ((MHD_STATICSTR_LEN_ (\"shared\") == param_len) &&\n           (0 == memcmp (param, \"shared\", MHD_STATICSTR_LEN_ (\"shared\"))))\n    return process_param__shared (\"--shared\");\n  else if ((MHD_STATICSTR_LEN_ (\"single\") == param_len) &&\n           (0 == memcmp (param, \"single\", MHD_STATICSTR_LEN_ (\"single\"))))\n    return process_param__single (\"--single\");\n  else if ((MHD_STATICSTR_LEN_ (\"unique\") == param_len) &&\n           (0 == memcmp (param, \"unique\", MHD_STATICSTR_LEN_ (\"unique\"))))\n    return process_param__unique (\"--unique\");\n  else if ((MHD_STATICSTR_LEN_ (\"connections\") <= param_len) &&\n           (0 == memcmp (param, \"connections\",\n                         MHD_STATICSTR_LEN_ (\"connections\"))))\n    return process_param__connections (\"--connections\",\n                                       param\n                                       + MHD_STATICSTR_LEN_ (\"connections\"),\n                                       next_param);\n  else if ((MHD_STATICSTR_LEN_ (\"timeout\") <= param_len) &&\n           (0 == memcmp (param, \"timeout\",\n                         MHD_STATICSTR_LEN_ (\"timeout\"))))\n    return process_param__timeout (\"--timeout\",\n                                   param + MHD_STATICSTR_LEN_ (\"timeout\"),\n                                   next_param);\n  else if ((MHD_STATICSTR_LEN_ (\"date-header\") == param_len) &&\n           (0 == memcmp (param, \"date-header\",\n                         MHD_STATICSTR_LEN_ (\"date-header\"))))\n    return process_param__date_header (\"--date-header\");\n  else if ((MHD_STATICSTR_LEN_ (\"help\") == param_len) &&\n           (0 == memcmp (param, \"help\", MHD_STATICSTR_LEN_ (\"help\"))))\n    return process_param__help (\"--help\");\n  else if ((MHD_STATICSTR_LEN_ (\"version\") == param_len) &&\n           (0 == memcmp (param, \"version\", MHD_STATICSTR_LEN_ (\"version\"))))\n    return process_param__version (\"--version\");\n\n  fprintf (stderr, \"Unrecognised parameter: --%s.\\n\", param);\n  return PERF_RPL_PARAM_ERROR;\n}\n</additional code>\n<target_code>\nHere is the code fragment that you need to analyze:\n```c\nif (0 != param_tail[0])\n    return PERF_RPL_PARAM_FULL_STR;\n\n  return PERF_RPL_PARAM_STR_PLUS_NEXT;\n```\nFocus on the above code fragment and judge whether it violates the rule 2.2 or not.\n</target_code>\n",
  "is_rule_violated": false,
  "scenario": "No violation. Both return branches are reachable: e.g. for a long form with an attached value \"--threads=4\" param_tail points at \"=4\" (non\u2011zero) so the function returns PERF_RPL_PARAM_FULL_STR; for a separated value \"--threads 4\" param_tail is empty (zero) and next_param points to \"4\", so the function returns PERF_RPL_PARAM_STR_PLUS_NEXT. Removing either return would change program behaviour, so this is not dead code."
}