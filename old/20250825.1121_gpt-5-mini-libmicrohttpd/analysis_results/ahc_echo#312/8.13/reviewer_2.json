{
  "user_message": "An agent A claimed that the following ahc_echo code violates the MISRA C 2023 rule 8.13.\n<misra_rule>\nMISRA C 2023 Rule 8.13 is A pointer should point to a const-qualified type whenever possible.\n\n</misra_rule>\n<target_code>\nHere is the original code of ahc_echo.\n```c\nstatic enum MHD_Result\nahc_echo (void *cls,\n          struct MHD_Connection *connection,\n          const char *url,\n          const char *method,\n          const char *version,\n          const char *upload_data, size_t *upload_data_size, void **req_cls)\n{\n  (void) cls;               /* Unused. Silent compiler warning. */\n  (void) url;               /* Unused. Silent compiler warning. */\n  (void) version;           /* Unused. Silent compiler warning. */\n  (void) upload_data;       /* Unused. Silent compiler warning. */\n  (void) upload_data_size;  /* Unused. Silent compiler warning. */\n  (void) req_cls;           /* Unused. Silent compiler warning. */\n\n  if (0 != strcmp (method, \"GET\"))\n    return MHD_NO;              /* unexpected method */\n  return MHD_queue_response (connection, MHD_HTTP_OK, response);\n}\n```\n</target_code>\n<response format>\nProvide your answer with these fields.\n- explanation: your evaluation of the scenario provided by the agent A.\n- is_report_correct: whether the report is correct or not (true/false). True means there is a violation.\n</response format>\n<scenario>\nThe agent A provided the following violation scenario:\nThe function parameter 'connection' is declared as 'struct MHD_Connection *connection' but is only used in a read-only manner inside ahc_echo (no modifications to *connection). According to MISRA C 2023 Rule 8.13 the pointer should be to a const-qualified type whenever possible, e.g. 'const struct MHD_Connection *connection'. Thus this is a violation unless the external API (e.g. MHD_queue_response) requires a non-const pointer and prevents making the parameter const.\n</scenario>\n\n<instruction>\nJudge whether the report is correct or not.\n</instruction>\n",
  "is_report_correct": false,
  "explanation": "MISRA C 2023 Rule 8.13 advises that pointers should point to const-qualified types when possible. In this function the parameter connection is only used in a read-only way inside ahc_echo, but it is immediately passed to MHD_queue_response. The libmicrohttpd API declares MHD_queue_response as taking a non-const struct MHD_Connection * (i.e. you must pass a non-const pointer). Because the external API requires a non-const pointer, you cannot sensibly change the parameter type here to const without breaking the call (or performing a const-discarding cast, which would itself be problematic). Therefore this is not a MISRA violation in practice \u2014 changing the parameter to const is not possible due to the required API signature. To be definitive one should inspect the actual declaration of MHD_queue_response in your build, but given the real libmicrohttpd signature the agent A report is not correct."
}