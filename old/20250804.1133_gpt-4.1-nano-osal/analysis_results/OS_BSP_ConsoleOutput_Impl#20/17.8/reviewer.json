{
  "user_message": "An agent A claimed that the following OS_BSP_ConsoleOutput_Impl code violates the MISRA C 2023 rule 17.8.\n<misra_rule>\nMISRA C 2023 Rule 17.8 is A function parameter should not be modified.\nNote that the object referred to by a pointer parameter may be modified, but the pointer itself shall not be modified..\n</misra_rule>\n<target_code>\nHere is the original code of OS_BSP_ConsoleOutput_Impl.\n```c\nvoid OS_BSP_ConsoleOutput_Impl(const char *Str, size_t DataLen)\n{\n    ssize_t WriteLen;\n\n    while (DataLen > 0)\n    {\n        /* writes the raw data directly to STDOUT_FILENO (unbuffered) */\n        WriteLen = write(STDOUT_FILENO, Str, DataLen);\n        if (WriteLen <= 0)\n        {\n            /* no recourse if this fails, just stop. */\n            break;\n        }\n        Str += WriteLen;\n        DataLen -= WriteLen;\n    }\n}\n```\n</target_code>\n<scenario>\nThe agent A provided the following violation scenario:The function parameter 'DataLen' is modified within the function, which violates MISRA C 2023 Rule 17.8 that states a function parameter should not be modified.\n</scenario>\n<test_code>\nAlso, the agent A provided the following modified code that prints out the log to support their scenario:\n```c\n\nvoid OS_BSP_ConsoleOutput_Impl(const char *Str, size_t DataLen)\n{\n    ssize_t WriteLen;\n\n    size_t localDataLen = DataLen;\n\n    while (localDataLen > 0)\n    {\n        /* writes the raw data directly to STDOUT_FILENO (unbuffered) */\n        WriteLen = write(STDOUT_FILENO, Str, localDataLen);\n        if (WriteLen <= 0)\n        {\n            /* no recourse if this fails, just stop. */\n            break;\n        }\n        Str += WriteLen;\n        localDataLen -= WriteLen;\n    }\n}\n\n```\nThe test code was compiled successfully, but the test log is empty for OS_BSP_ConsoleOutput_Impl. The test suite might not cover this function or the test code might be not suitable to print important information.\n</test_code>\n<response format>\nProvide your answer with these fields.\n- explanation: your evaluation of the scenario provided by the agent A.\n- is_report_correct: whether the report is correct or not (true/false)\n</response format>\n<instruction>   \nJudge whether the report is correct or not.\n</instruction>\n",
  "is_report_correct": true,
  "explanation": "The original code modifies the parameter 'DataLen' directly within the function, which violates MISRA C 2023 Rule 17.8 that states a function parameter should not be modified. The provided modified code introduces a local variable 'localDataLen' to avoid modifying the parameter, aligning with the rule. Therefore, the agent's report correctly identifies the violation in the original code. However, the provided modified code does follow MISRA rules, but since the original code does not, the report about the violation in the provided code is correct."
}