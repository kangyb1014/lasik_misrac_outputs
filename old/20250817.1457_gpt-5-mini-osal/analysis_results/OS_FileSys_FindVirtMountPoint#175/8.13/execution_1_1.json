{
  "result": "compile_failed",
  "message": "/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:103:43: error: conflicting types for 'OS_filesys_internal_record_t'; have 'struct OS_filesys_internal_record'\n  103 | typedef struct OS_filesys_internal_record OS_filesys_internal_record_t;\n      |                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:52:\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-filesys.h:98:3: note: previous declaration of 'OS_filesys_internal_record_t' with type 'OS_filesys_internal_record_t'\n   98 | } OS_filesys_internal_record_t;\n      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-filesys.h:66:44: error: expected identifier or '(' before numeric constant\n   66 | #define OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL 0x20\n      |                                            ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:104:23: note: in expansion of macro 'OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL'\n  104 | static const uint32_t OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL = 1u;\n      |                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_object_table_get':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:108:5: error: aggregate value used where an integer was expected\n  108 |     return &table[(size_t)idx];\n      |     ^~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:108:18: error: invalid use of undefined type 'struct OS_filesys_internal_record'\n  108 |     return &table[(size_t)idx];\n      |                  ^\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_FileSys_FindVirtMountPoint':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:148:5: error: aggregate value used where an integer was expected\n  148 |     probe_log(\"LOOKUP: token value=%u filesys_ptr=%p\", (unsigned int)(*token), (const void *)filesys);\n      |     ^~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:158:84: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  158 |     probe_log(\"FILESYS: flags=0x%08X virtual_mountpt=\\\"%s\\\"\", (unsigned int)filesys->flags, filesys->virtual_mountpt);\n      |                                                                                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:158:100: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  158 |     probe_log(\"FILESYS: flags=0x%08X virtual_mountpt=\\\"%s\\\"\", (unsigned int)filesys->flags, filesys->virtual_mountpt);\n      |                                                                                                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:160:17: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  160 |     if ((filesys->flags & OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL) == 0)\n      |                 ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:166:33: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  166 |     mplen = osal_strnlen(filesys->virtual_mountpt, sizeof(filesys->virtual_mountpt));\n      |                                 ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:166:66: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  166 |     mplen = osal_strnlen(filesys->virtual_mountpt, sizeof(filesys->virtual_mountpt));\n      |                                                                  ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:167:95: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  167 |     probe_log(\"MPLEN: computed mplen=%zu (sizeof(virtual_mountpt)=%zu)\", mplen, sizeof(filesys->virtual_mountpt));\n      |                                                                                               ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:173:46: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  173 |     if (mplen == 0 || mplen >= sizeof(filesys->virtual_mountpt) ||\n      |                                              ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:174:32: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  174 |         strncmp(target, filesys->virtual_mountpt, mplen) != 0)\n      |                                ^~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:37,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-filesys.h:30,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:52:\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_FileSys_Initialize':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:220:46: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  220 |     OS_CHECK_STRING(fsdevname, sizeof(filesys->device_name), OS_FS_ERR_PATH_TOO_LONG);\n      |                                              ^~\n/tmp/tmpp44mbptm/src/src/os/inc/osapi-macros.h:132:11: note: in definition of macro 'ARGCHECK'\n  132 |     if (!(cond))                \\\n      |           ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:132:9: note: in expansion of macro 'LENGTHCHECK'\n  132 |         LENGTHCHECK(str, maxlen, errcode);    \\\n      |         ^~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:220:5: note: in expansion of macro 'OS_CHECK_STRING'\n  220 |     OS_CHECK_STRING(fsdevname, sizeof(filesys->device_name), OS_FS_ERR_PATH_TOO_LONG);\n      |     ^~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:221:46: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  221 |     OS_CHECK_STRING(fsvolname, sizeof(filesys->volume_name), OS_FS_ERR_PATH_TOO_LONG);\n      |                                              ^~\n/tmp/tmpp44mbptm/src/src/os/inc/osapi-macros.h:132:11: note: in definition of macro 'ARGCHECK'\n  132 |     if (!(cond))                \\\n      |           ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:132:9: note: in expansion of macro 'LENGTHCHECK'\n  132 |         LENGTHCHECK(str, maxlen, errcode);    \\\n      |         ^~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:221:5: note: in expansion of macro 'OS_CHECK_STRING'\n  221 |     OS_CHECK_STRING(fsvolname, sizeof(filesys->volume_name), OS_FS_ERR_PATH_TOO_LONG);\n      |     ^~~~~~~~~~~~~~~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:53:\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:107:30: error: invalid application of 'sizeof' to incomplete type 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  107 |         memset(ref, 0, sizeof(*ref));                                  \\\n      |                              ^\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:235:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  235 |         OS_OBJECT_INIT(token, filesys, device_name, fsdevname);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:108:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  108 |         strncpy(ref->namefield, nameval, sizeof(ref->namefield) - 1);  \\\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:235:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  235 |         OS_OBJECT_INIT(token, filesys, device_name, fsdevname);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:108:52: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  108 |         strncpy(ref->namefield, nameval, sizeof(ref->namefield) - 1);  \\\n      |                                                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:235:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  235 |         OS_OBJECT_INIT(token, filesys, device_name, fsdevname);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:109:59: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  109 |         OS_ObjectIdGlobalFromToken(&tok)->name_entry = ref->namefield; \\\n      |                                                           ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:235:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  235 |         OS_OBJECT_INIT(token, filesys, device_name, fsdevname);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:239:16: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  239 |         filesys->blocksize = blocksize;\n      |                ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:240:16: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  240 |         filesys->numblocks = numblocks;\n      |                ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:241:16: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  241 |         filesys->address   = address;\n      |                ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:242:24: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  242 |         strncpy(filesys->volume_name, fsvolname, sizeof(filesys->volume_name) - 1);\n      |                        ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:242:64: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  242 |         strncpy(filesys->volume_name, fsvolname, sizeof(filesys->volume_name) - 1);\n      |                                                                ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:251:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  251 |         if (filesys->fstype == OS_FILESYS_TYPE_UNKNOWN &&\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:252:21: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  252 |             (filesys->address != NULL || strncmp(filesys->volume_name, OS_FILESYS_RAMDISK_VOLNAME_PREFIX,\n      |                     ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:252:57: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  252 |             (filesys->address != NULL || strncmp(filesys->volume_name, OS_FILESYS_RAMDISK_VOLNAME_PREFIX,\n      |                                                         ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:255:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  255 |             filesys->fstype = OS_FILESYS_TYPE_VOLATILE_DISK;\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:273:24: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  273 |                 filesys->flags |= OS_FILESYS_FLAG_IS_READY;\n      |                        ^~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:37,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-filesys.h:30,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:52:\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_FileSysAddFixedMap':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:329:46: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  329 |     OS_CHECK_STRING(phys_path, sizeof(filesys->system_mountpt), OS_FS_ERR_PATH_TOO_LONG);\n      |                                              ^~\n/tmp/tmpp44mbptm/src/src/os/inc/osapi-macros.h:132:11: note: in definition of macro 'ARGCHECK'\n  132 |     if (!(cond))                \\\n      |           ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:132:9: note: in expansion of macro 'LENGTHCHECK'\n  132 |         LENGTHCHECK(str, maxlen, errcode);    \\\n      |         ^~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:329:5: note: in expansion of macro 'OS_CHECK_STRING'\n  329 |     OS_CHECK_STRING(phys_path, sizeof(filesys->system_mountpt), OS_FS_ERR_PATH_TOO_LONG);\n      |     ^~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:345:43: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  345 |     if (memchr(dev_name, 0, sizeof(filesys->volume_name)) == NULL)\n      |                                           ^~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:53:\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:107:30: error: invalid application of 'sizeof' to incomplete type 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  107 |         memset(ref, 0, sizeof(*ref));                                  \\\n      |                              ^\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:356:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  356 |         OS_OBJECT_INIT(token, filesys, device_name, dev_name);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:108:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  108 |         strncpy(ref->namefield, nameval, sizeof(ref->namefield) - 1);  \\\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:356:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  356 |         OS_OBJECT_INIT(token, filesys, device_name, dev_name);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:108:52: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  108 |         strncpy(ref->namefield, nameval, sizeof(ref->namefield) - 1);  \\\n      |                                                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:356:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  356 |         OS_OBJECT_INIT(token, filesys, device_name, dev_name);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-idmap.h:109:59: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  109 |         OS_ObjectIdGlobalFromToken(&tok)->name_entry = ref->namefield; \\\n      |                                                           ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:356:9: note: in expansion of macro 'OS_OBJECT_INIT'\n  356 |         OS_OBJECT_INIT(token, filesys, device_name, dev_name);\n      |         ^~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:358:24: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  358 |         strncpy(filesys->volume_name, dev_name, sizeof(filesys->volume_name) - 1);\n      |                        ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:358:63: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  358 |         strncpy(filesys->volume_name, dev_name, sizeof(filesys->volume_name) - 1);\n      |                                                               ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:359:24: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  359 |         strncpy(filesys->system_mountpt, phys_path, sizeof(filesys->system_mountpt) - 1);\n      |                        ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:359:67: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  359 |         strncpy(filesys->system_mountpt, phys_path, sizeof(filesys->system_mountpt) - 1);\n      |                                                                   ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:360:24: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  360 |         strncpy(filesys->virtual_mountpt, virt_path, sizeof(filesys->virtual_mountpt) - 1);\n      |                        ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:360:68: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  360 |         strncpy(filesys->virtual_mountpt, virt_path, sizeof(filesys->virtual_mountpt) - 1);\n      |                                                                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:365:16: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  365 |         filesys->fstype = OS_FILESYS_TYPE_FS_BASED;\n      |                ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:366:16: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  366 |         filesys->flags  = OS_FILESYS_FLAG_IS_FIXED;\n      |                ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:376:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  376 |             filesys->flags |= OS_FILESYS_FLAG_IS_READY;\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:385:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  385 |             filesys->flags |= OS_FILESYS_FLAG_IS_MOUNTED_SYSTEM | OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL;\n      |                    ^~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:37,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-filesys.h:30,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:52:\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_mount':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:500:44: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  500 |     OS_CHECK_STRING(devname, sizeof(filesys->device_name), OS_FS_ERR_PATH_TOO_LONG);\n      |                                            ^~\n/tmp/tmpp44mbptm/src/src/os/inc/osapi-macros.h:132:11: note: in definition of macro 'ARGCHECK'\n  132 |     if (!(cond))                \\\n      |           ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:132:9: note: in expansion of macro 'LENGTHCHECK'\n  132 |         LENGTHCHECK(str, maxlen, errcode);    \\\n      |         ^~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:500:5: note: in expansion of macro 'OS_CHECK_STRING'\n  500 |     OS_CHECK_STRING(devname, sizeof(filesys->device_name), OS_FS_ERR_PATH_TOO_LONG);\n      |     ^~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:501:47: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  501 |     OS_CHECK_STRING(mountpoint, sizeof(filesys->virtual_mountpt), OS_FS_ERR_PATH_TOO_LONG);\n      |                                               ^~\n/tmp/tmpp44mbptm/src/src/os/inc/osapi-macros.h:132:11: note: in definition of macro 'ARGCHECK'\n  132 |     if (!(cond))                \\\n      |           ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:132:9: note: in expansion of macro 'LENGTHCHECK'\n  132 |         LENGTHCHECK(str, maxlen, errcode);    \\\n      |         ^~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:501:5: note: in expansion of macro 'OS_CHECK_STRING'\n  501 |     OS_CHECK_STRING(mountpoint, sizeof(filesys->virtual_mountpt), OS_FS_ERR_PATH_TOO_LONG);\n      |     ^~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:515:21: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  515 |         if ((filesys->flags & ~OS_FILESYS_FLAG_IS_FIXED) != OS_FILESYS_FLAG_IS_READY)\n      |                     ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:520:25: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  520 |         else if (filesys->system_mountpt[0] == 0)\n      |                         ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:536:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  536 |             filesys->flags |= OS_FILESYS_FLAG_IS_MOUNTED_SYSTEM | OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL;\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:537:28: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  537 |             strncpy(filesys->virtual_mountpt, mountpoint, sizeof(filesys->virtual_mountpt) - 1);\n      |                            ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:537:73: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  537 |             strncpy(filesys->virtual_mountpt, mountpoint, sizeof(filesys->virtual_mountpt) - 1);\n      |                                                                         ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:538:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  538 |             filesys->virtual_mountpt[sizeof(filesys->virtual_mountpt) - 1] = 0;\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:538:52: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  538 |             filesys->virtual_mountpt[sizeof(filesys->virtual_mountpt) - 1] = 0;\n      |                                                    ^~\nIn file included from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:37,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-filesys.h:30,\n                 from /tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:52:\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_unmount':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:565:47: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  565 |     OS_CHECK_STRING(mountpoint, sizeof(filesys->virtual_mountpt), OS_FS_ERR_PATH_TOO_LONG);\n      |                                               ^~\n/tmp/tmpp44mbptm/src/src/os/inc/osapi-macros.h:132:11: note: in definition of macro 'ARGCHECK'\n  132 |     if (!(cond))                \\\n      |           ^~~~\n/tmp/tmpp44mbptm/src/src/os/shared/inc/os-shared-globaldefs.h:132:9: note: in expansion of macro 'LENGTHCHECK'\n  132 |         LENGTHCHECK(str, maxlen, errcode);    \\\n      |         ^~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:565:5: note: in expansion of macro 'OS_CHECK_STRING'\n  565 |     OS_CHECK_STRING(mountpoint, sizeof(filesys->virtual_mountpt), OS_FS_ERR_PATH_TOO_LONG);\n      |     ^~~~~~~~~~~~~~~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:581:21: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  581 |         if ((filesys->flags & ~OS_FILESYS_FLAG_IS_FIXED) !=\n      |                     ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:596:20: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  596 |             filesys->flags &= ~(OS_FILESYS_FLAG_IS_MOUNTED_SYSTEM | OS_FILESYS_FLAG_IS_MOUNTED_VIRTUAL);\n      |                    ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_FS_GetPhysDriveName':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:690:21: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  690 |         if ((filesys->flags & OS_FILESYS_FLAG_IS_MOUNTED_SYSTEM) != 0)\n      |                     ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:692:43: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  692 |             strncpy(PhysDriveName, filesys->system_mountpt, OS_FS_PHYS_NAME_LEN - 1);\n      |                                           ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c: In function 'OS_TranslatePath':\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:814:21: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  814 |         if ((filesys->flags & OS_FILESYS_FLAG_IS_MOUNTED_SYSTEM) != 0)\n      |                     ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:816:50: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  816 |             SysMountPointLen = OS_strnlen(filesys->system_mountpt, sizeof(filesys->system_mountpt));\n      |                                                  ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:816:82: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  816 |             SysMountPointLen = OS_strnlen(filesys->system_mountpt, sizeof(filesys->system_mountpt));\n      |                                                                                  ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:817:50: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  817 |             VirtPathBegin    = OS_strnlen(filesys->virtual_mountpt, sizeof(filesys->virtual_mountpt));\n      |                                                  ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:817:83: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  817 |             VirtPathBegin    = OS_strnlen(filesys->virtual_mountpt, sizeof(filesys->virtual_mountpt));\n      |                                                                                   ^~\n/tmp/tmpp44mbptm/src/src/os/shared/src/osapi-filesys.c:820:42: error: invalid use of incomplete typedef 'OS_filesys_internal_record_t' {aka 'struct OS_filesys_internal_record'}\n  820 |                 memcpy(LocalPath, filesys->system_mountpt, SysMountPointLen);\n      |                                          ^~\ngmake[2]: *** [CMakeFiles/osal.dir/build.make:188: CMakeFiles/osal.dir/src/os/shared/src/osapi-filesys.c.o] Error 1\ngmake[1]: *** [CMakeFiles/Makefile2:762: CMakeFiles/osal.dir/all] Error 2\ngmake: *** [Makefile:146: all] Error 2"
}