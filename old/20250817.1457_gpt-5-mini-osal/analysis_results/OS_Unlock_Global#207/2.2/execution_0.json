{
  "result": "compile_failed",
  "message": "/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:753:3: error: conflicting types for 'OS_object_token_t'; have 'struct <anonymous>'\n  753 | } OS_object_token_t;\n      |   ^~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-common.h:30,\n                 from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:59:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-globaldefs.h:60:32: note: previous declaration of 'OS_object_token_t' with type 'OS_object_token_t' {aka 'struct OS_object_token'}\n   60 | typedef struct OS_object_token OS_object_token_t;\n      |                                ^~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:29,\n                 from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/inc/osapi-idmap.h:52:36: error: expected identifier or '(' before numeric constant\n   52 | #define OS_OBJECT_TYPE_USER        0x10 /**< @brief Object user type */\n      |                                    ^~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:754:23: note: in expansion of macro 'OS_OBJECT_TYPE_USER'\n  754 | static const uint32_t OS_OBJECT_TYPE_USER = 1000u;\n      |                       ^~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:755:23: error: 'OS_LOCK_MODE_NONE' redeclared as different kind of symbol\n  755 | static const uint32_t OS_LOCK_MODE_NONE = 0u;\n      |                       ^~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:68:5: note: previous definition of 'OS_LOCK_MODE_NONE' with type 'enum <anonymous>'\n   68 |     OS_LOCK_MODE_NONE,      /**< Quick ID validity check, does not lock global table at all (use with caution) */\n      |     ^~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:68:47: error: expected ')' before '{' token\n   68 | #define OS_LOCK_KEY_INVALID     ((osal_key_t) {0})\n      |                                               ^\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:756:23: note: in expansion of macro 'OS_LOCK_KEY_INVALID'\n  756 | static const OS_key_t OS_LOCK_KEY_INVALID = { 0u };\n      |                       ^~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:67:33: error: expected identifier or '(' before numeric constant\n   67 | #define OS_LOCK_KEY_FIXED_VALUE 0x4D000000\n      |                                 ^~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:757:23: note: in expansion of macro 'OS_LOCK_KEY_FIXED_VALUE'\n  757 | static const uint32_t OS_LOCK_KEY_FIXED_VALUE = 0xAB000000u;\n      |                       ^~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:799:6: error: conflicting types for 'OS_Unlock_Global'; have 'void(OS_object_token_t *)'\n  799 | void OS_Unlock_Global(OS_object_token_t *token)\n      |      ^~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:199:6: note: previous declaration of 'OS_Unlock_Global' with type 'void(OS_object_token_t *)' {aka 'void(struct OS_object_token *)'}\n  199 | void OS_Unlock_Global(OS_object_token_t *token);\n      |      ^~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_Unlock_Global':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:68:33: error: incompatible types when assigning to type 'OS_key_t' from type 'osal_key_t'\n   68 | #define OS_LOCK_KEY_INVALID     ((osal_key_t) {0})\n      |                                 ^\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:848:30: note: in expansion of macro 'OS_LOCK_KEY_INVALID'\n  848 |         token->lock_key    = OS_LOCK_KEY_INVALID;\n      |                              ^~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:880:6: error: conflicting types for 'OS_WaitForStateChange'; have 'void(OS_object_token_t *, uint32)' {aka 'void(OS_object_token_t *, unsigned int)'}\n  880 | void OS_WaitForStateChange(OS_object_token_t *token, uint32 attempts)\n      |      ^~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:218:6: note: previous declaration of 'OS_WaitForStateChange' with type 'void(OS_object_token_t *, uint32)' {aka 'void(struct OS_object_token *, unsigned int)'}\n  218 | void OS_WaitForStateChange(OS_object_token_t *token, uint32 attempts);\n      |      ^~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:928:7: error: conflicting types for 'OS_ObjectIdFinalizeNew'; have 'int32(int32,  OS_object_token_t *, osal_id_t *)' {aka 'int(int,  OS_object_token_t *, unsigned int *)'}\n  928 | int32 OS_ObjectIdFinalizeNew(int32 operation_status, OS_object_token_t *token, osal_id_t *outid)\n      |       ^~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:457:7: note: previous declaration of 'OS_ObjectIdFinalizeNew' with type 'int32(int32,  OS_object_token_t *, osal_id_t *)' {aka 'int(int,  struct OS_object_token *, unsigned int *)'}\n  457 | int32 OS_ObjectIdFinalizeNew(int32 operation_status, OS_object_token_t *token, osal_id_t *outid);\n      |       ^~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_ObjectIdFinalizeNew':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:941:25: error: 'OS_object_token_t' has no member named 'obj_id'\n  941 |         final_id = token->obj_id;\n      |                         ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:954:56: error: 'OS_object_token_t' has no member named 'obj_id'\n  954 |         OS_NotifyEvent(OS_EVENT_RESOURCE_CREATED, token->obj_id, NULL);\n      |                                                        ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:971:7: error: conflicting types for 'OS_ObjectIdFinalizeDelete'; have 'int32(int32,  OS_object_token_t *)' {aka 'int(int,  OS_object_token_t *)'}\n  971 | int32 OS_ObjectIdFinalizeDelete(int32 operation_status, OS_object_token_t *token)\n      |       ^~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:468:7: note: previous declaration of 'OS_ObjectIdFinalizeDelete' with type 'int32(int32,  OS_object_token_t *)' {aka 'int(int,  struct OS_object_token *)'}\n  468 | int32 OS_ObjectIdFinalizeDelete(int32 operation_status, OS_object_token_t *token);\n      |       ^~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_ObjectIdFinalizeDelete':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:983:25: error: 'OS_object_token_t' has no member named 'obj_id'\n  983 |         final_id = token->obj_id;\n      |                         ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:992:56: error: 'OS_object_token_t' has no member named 'obj_id'\n  992 |         OS_NotifyEvent(OS_EVENT_RESOURCE_DELETED, token->obj_id, NULL);\n      |                                                        ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1010:7: error: conflicting types for 'OS_ObjectIdGetBySearch'; have 'int32(OS_lock_mode_t,  osal_objtype_t,  _Bool (*)(void *, const OS_object_token_t *, const OS_common_record_t *), void *, OS_object_token_t *)' {aka 'int(OS_lock_mode_t,  unsigned int,  _Bool (*)(void *, const struct OS_object_token *, const struct OS_common_record *), void *, OS_object_token_t *)'}\n 1010 | int32 OS_ObjectIdGetBySearch(OS_lock_mode_t lock_mode, osal_objtype_t idtype, OS_ObjectMatchFunc_t MatchFunc, void *arg,\n      |       ^~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:398:7: note: previous declaration of 'OS_ObjectIdGetBySearch' with type 'int32(OS_lock_mode_t,  osal_objtype_t,  _Bool (*)(void *, const OS_object_token_t *, const OS_common_record_t *), void *, OS_object_token_t *)' {aka 'int(OS_lock_mode_t,  unsigned int,  _Bool (*)(void *, const struct OS_object_token *, const struct OS_common_record *), void *, struct OS_object_token *)'}\n  398 | int32 OS_ObjectIdGetBySearch(OS_lock_mode_t lock_mode, osal_objtype_t idtype, OS_ObjectMatchFunc_t MatchFunc, void *arg,\n      |       ^~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1048:7: error: conflicting types for 'OS_ObjectIdGetByName'; have 'int32(OS_lock_mode_t,  osal_objtype_t,  const char *, OS_object_token_t *)' {aka 'int(OS_lock_mode_t,  unsigned int,  const char *, OS_object_token_t *)'}\n 1048 | int32 OS_ObjectIdGetByName(OS_lock_mode_t lock_mode, osal_objtype_t idtype, const char *name, OS_object_token_t *token)\n      |       ^~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:408:7: note: previous declaration of 'OS_ObjectIdGetByName' with type 'int32(OS_lock_mode_t,  osal_objtype_t,  const char *, OS_object_token_t *)' {aka 'int(OS_lock_mode_t,  unsigned int,  const char *, struct OS_object_token *)'}\n  408 | int32 OS_ObjectIdGetByName(OS_lock_mode_t lock_mode, osal_objtype_t idtype, const char *name, OS_object_token_t *token);\n      |       ^~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_ObjectIdFindByName':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1078:27: error: 'OS_object_token_t' has no member named 'obj_id'\n 1078 |         *object_id = token.obj_id;\n      |                           ^\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1100:7: error: conflicting types for 'OS_ObjectIdGetById'; have 'int32(OS_lock_mode_t,  osal_objtype_t,  osal_id_t,  OS_object_token_t *)' {aka 'int(OS_lock_mode_t,  unsigned int,  unsigned int,  OS_object_token_t *)'}\n 1100 | int32 OS_ObjectIdGetById(OS_lock_mode_t lock_mode, osal_objtype_t idtype, osal_id_t id, OS_object_token_t *token)\n      |       ^~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:417:7: note: previous declaration of 'OS_ObjectIdGetById' with type 'int32(OS_lock_mode_t,  osal_objtype_t,  osal_id_t,  OS_object_token_t *)' {aka 'int(OS_lock_mode_t,  unsigned int,  unsigned int,  struct OS_object_token *)'}\n  417 | int32 OS_ObjectIdGetById(OS_lock_mode_t lock_mode, osal_objtype_t idtype, osal_id_t id, OS_object_token_t *token);\n      |       ^~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_ObjectIdGetById':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1110:61: error: 'OS_object_token_t' has no member named 'obj_idx'\n 1110 |     return_code = OS_ObjectIdToArrayIndex(idtype, id, &token->obj_idx);\n      |                                                             ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1113:14: error: 'OS_object_token_t' has no member named 'obj_id'\n 1113 |         token->obj_id = id;\n      |              ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1146:6: error: conflicting types for 'OS_ObjectIdTransactionFinish'; have 'void(OS_object_token_t *, const osal_id_t *)' {aka 'void(OS_object_token_t *, const unsigned int *)'}\n 1146 | void OS_ObjectIdTransactionFinish(OS_object_token_t *token, const osal_id_t *final_id)\n      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:371:6: note: previous declaration of 'OS_ObjectIdTransactionFinish' with type 'void(OS_object_token_t *, const osal_id_t *)' {aka 'void(struct OS_object_token *, const unsigned int *)'}\n  371 | void OS_ObjectIdTransactionFinish(OS_object_token_t *token, const osal_id_t *final_id);\n      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_ObjectIdTransactionFinish':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1188:34: error: 'OS_object_token_t' has no member named 'obj_id'\n 1188 |         record->active_id = token->obj_id;\n      |                                  ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1213:6: error: conflicting types for 'OS_ObjectIdRelease'; have 'void(OS_object_token_t *)'\n 1213 | void OS_ObjectIdRelease(OS_object_token_t *token)\n      |      ^~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:426:6: note: previous declaration of 'OS_ObjectIdRelease' with type 'void(OS_object_token_t *)' {aka 'void(struct OS_object_token *)'}\n  426 | void OS_ObjectIdRelease(OS_object_token_t *token);\n      |      ^~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1246:7: error: conflicting types for 'OS_ObjectIdAllocateNew'; have 'int32(osal_objtype_t,  const char *, OS_object_token_t *)' {aka 'int(unsigned int,  const char *, OS_object_token_t *)'}\n 1246 | int32 OS_ObjectIdAllocateNew(osal_objtype_t idtype, const char *name, OS_object_token_t *token)\n      |       ^~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:446:7: note: previous declaration of 'OS_ObjectIdAllocateNew' with type 'int32(osal_objtype_t,  const char *, OS_object_token_t *)' {aka 'int(unsigned int,  const char *, struct OS_object_token *)'}\n  446 | int32 OS_ObjectIdAllocateNew(osal_objtype_t idtype, const char *name, OS_object_token_t *token);\n      |       ^~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: In function 'OS_ObjectIdAllocateNew':\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1296:72: error: 'OS_object_token_t' has no member named 'obj_id'\n 1296 |         return_code = OS_NotifyEvent(OS_EVENT_RESOURCE_ALLOCATED, token->obj_id, NULL);\n      |                                                                        ^~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c: At top level:\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1316:6: error: conflicting types for 'OS_ObjectIdTransferToken'; have 'void(OS_object_token_t *, OS_object_token_t *)'\n 1316 | void OS_ObjectIdTransferToken(OS_object_token_t *token_from, OS_object_token_t *token_to)\n      |      ^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:435:6: note: previous declaration of 'OS_ObjectIdTransferToken' with type 'void(OS_object_token_t *, OS_object_token_t *)' {aka 'void(struct OS_object_token *, struct OS_object_token *)'}\n  435 | void OS_ObjectIdTransferToken(OS_object_token_t *token_from, OS_object_token_t *token_to);\n      |      ^~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:1348:6: error: conflicting types for 'OS_ObjectFilterActive'; have '_Bool(void *, const OS_object_token_t *, const OS_common_record_t *)' {aka '_Bool(void *, const OS_object_token_t *, const struct OS_common_record *)'}\n 1348 | bool OS_ObjectFilterActive(void *ref, const OS_object_token_t *token, const OS_common_record_t *obj)\n      |      ^~~~~~~~~~~~~~~~~~~~~\nIn file included from /tmp/tmpo68snflc/src/src/os/shared/src/osapi-idmap.c:60:\n/tmp/tmpo68snflc/src/src/os/shared/inc/os-shared-idmap.h:531:7: note: previous declaration of 'OS_ObjectFilterActive' with type '_Bool(void *, const OS_object_token_t *, const OS_common_record_t *)' {aka '_Bool(void *, const struct OS_object_token *, const struct OS_common_record *)'}\n  531 | bool  OS_ObjectFilterActive(void *ref, const OS_object_token_t *token, const OS_common_record_t *obj);\n      |       ^~~~~~~~~~~~~~~~~~~~~\ngmake[2]: *** [CMakeFiles/osal.dir/build.make:216: CMakeFiles/osal.dir/src/os/shared/src/osapi-idmap.c.o] Error 1\ngmake[1]: *** [CMakeFiles/Makefile2:762: CMakeFiles/osal.dir/all] Error 2\ngmake: *** [Makefile:146: all] Error 2"
}