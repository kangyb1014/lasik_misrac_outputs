{
  "result": "compile_failed",
  "message": "-- Build type:  \n-- Host:    Linux/x86_64\n-- Target:  Linux/x86_64\n-- Machine: Generic\n-- Vendor: none\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:43:8: error: redefinition of 'struct metal_state'\n   43 | struct metal_state {\n      |        ^~~~~~~~~~~\nIn file included from /tmp/tmp_31o1q8a/build/lib/include/metal/sys.h:85,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/io.h:22,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:24:\n/tmp/tmp_31o1q8a/build/lib/include/metal/system/linux/sys.h:70:8: note: originally defined here\n   70 | struct metal_state {\n      |        ^~~~~~~~~~~\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:47:27: error: conflicting types for '_metal'; have 'struct metal_state'\n   47 | extern struct metal_state _metal;\n      |                           ^~~~~~\nIn file included from /tmp/tmp_31o1q8a/build/lib/include/metal/io.h:22,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:24:\n/tmp/tmp_31o1q8a/build/lib/include/metal/sys.h:96:27: note: previous declaration of '_metal' with type 'struct metal_state'\n   96 | extern struct metal_state _metal;\n      |                           ^~~~~~\nIn file included from /tmp/tmp_31o1q8a/build/lib/include/metal/sys.h:18,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/io.h:22,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:24:\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c: In function 'metal_shmem_try_map':\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:19: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                   ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:130:17: note: in expansion of macro 'metal_log'\n  130 |                 metal_log(METAL_LOG_WARNING,\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:57: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                                                         ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:130:17: note: in expansion of macro 'metal_log'\n  130 |                 metal_log(METAL_LOG_WARNING,\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:100:23: error: 'struct metal_state' has no member named 'common'\n  100 |                 _metal.common.log_handler(level, metal_fmt(fmt), ## __VA_ARGS__);  \\\n      |                       ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:130:17: note: in expansion of macro 'metal_log'\n  130 |                 metal_log(METAL_LOG_WARNING,\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:19: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                   ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:138:17: note: in expansion of macro 'metal_log'\n  138 |                 metal_log(METAL_LOG_WARNING, \"failed to mlock shmem - %s\\n\",\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:57: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                                                         ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:138:17: note: in expansion of macro 'metal_log'\n  138 |                 metal_log(METAL_LOG_WARNING, \"failed to mlock shmem - %s\\n\",\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:100:23: error: 'struct metal_state' has no member named 'common'\n  100 |                 _metal.common.log_handler(level, metal_fmt(fmt), ## __VA_ARGS__);  \\\n      |                       ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:138:17: note: in expansion of macro 'metal_log'\n  138 |                 metal_log(METAL_LOG_WARNING, \"failed to mlock shmem - %s\\n\",\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:19: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                   ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:158:17: note: in expansion of macro 'metal_log'\n  158 |                 metal_log(METAL_LOG_WARNING,\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:57: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                                                         ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:158:17: note: in expansion of macro 'metal_log'\n  158 |                 metal_log(METAL_LOG_WARNING,\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:100:23: error: 'struct metal_state' has no member named 'common'\n  100 |                 _metal.common.log_handler(level, metal_fmt(fmt), ## __VA_ARGS__);  \\\n      |                       ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:158:17: note: in expansion of macro 'metal_log'\n  158 |                 metal_log(METAL_LOG_WARNING,\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c: In function 'metal_shmem_open':\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:19: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                   ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:189:17: note: in expansion of macro 'metal_log'\n  189 |                 metal_log(METAL_LOG_ERROR, \"Failed to open shmem file :%s\\n\", name);\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:99:57: error: 'struct metal_state' has no member named 'common'\n   99 |         if (_metal.common.log_handler && level <= _metal.common.log_level) \\\n      |                                                         ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:189:17: note: in expansion of macro 'metal_log'\n  189 |                 metal_log(METAL_LOG_ERROR, \"Failed to open shmem file :%s\\n\", name);\n      |                 ^~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/log.h:100:23: error: 'struct metal_state' has no member named 'common'\n  100 |                 _metal.common.log_handler(level, metal_fmt(fmt), ## __VA_ARGS__);  \\\n      |                       ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:189:17: note: in expansion of macro 'metal_log'\n  189 |                 metal_log(METAL_LOG_ERROR, \"Failed to open shmem file :%s\\n\", name);\n      |                 ^~~~~~~~~\nIn file included from /tmp/tmp_31o1q8a/build/lib/include/metal/sys.h:85,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/io.h:22,\n                 from /tmp/tmp_31o1q8a/build/lib/include/metal/shmem.h:15,\n                 from /tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:24:\n/tmp/tmp_31o1q8a/build/lib/include/metal/system/linux/sys.h:126:28: error: 'struct metal_state' has no member named 'page_sizes'\n  126 |         for ((ps) = &_metal.page_sizes[_metal.num_page_sizes - 1];      \\\n      |                            ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:195:9: note: in expansion of macro 'metal_for_each_page_size_down'\n  195 |         metal_for_each_page_size_down(ps) {\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/system/linux/sys.h:126:46: error: 'struct metal_state' has no member named 'num_page_sizes'\n  126 |         for ((ps) = &_metal.page_sizes[_metal.num_page_sizes - 1];      \\\n      |                                              ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:195:9: note: in expansion of macro 'metal_for_each_page_size_down'\n  195 |         metal_for_each_page_size_down(ps) {\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/tmp/tmp_31o1q8a/build/lib/include/metal/system/linux/sys.h:127:29: error: 'struct metal_state' has no member named 'page_sizes'\n  127 |              (ps) >= &_metal.page_sizes[0];                             \\\n      |                             ^\n/tmp/tmp_31o1q8a/src/lib/system/linux/shmem.c:195:9: note: in expansion of macro 'metal_for_each_page_size_down'\n  195 |         metal_for_each_page_size_down(ps) {\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ngmake[2]: *** [lib/CMakeFiles/metal-shared.dir/build.make:258: lib/CMakeFiles/metal-shared.dir/system/linux/shmem.c.o] Error 1\ngmake[1]: *** [CMakeFiles/Makefile2:291: lib/CMakeFiles/metal-shared.dir/all] Error 2\ngmake: *** [Makefile:146: all] Error 2"
}